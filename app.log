2025-07-10 09:56:27,117 WARNING  * Debugger is active!
2025-07-10 09:56:27,117 INFO  * Debugger PIN: 247-118-130
2025-07-10 09:56:35,354 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-10 09:56:35,354 INFO [33mPress CTRL+C to quit[0m
2025-07-10 09:56:35,355 INFO  * Restarting with stat
2025-07-10 09:56:35,541 WARNING  * Debugger is active!
2025-07-10 09:56:35,542 INFO  * Debugger PIN: 141-080-540
2025-07-10 09:56:37,862 INFO 192.168.12.64 - - [10/Jul/2025 09:56:37] "GET / HTTP/1.1" 200 -
2025-07-10 10:03:27,302 ERROR Ansible æ‰§è¡Œå¤±è´¥ï¼Œreturncode=2
stdout:

PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ] *************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„ï¼ˆä¿ç•™æ¨¡æ¿å¯†ç å’Œæ–° root å¯†ç ï¼‰] *************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆåœ¨æ§åˆ¶æœºä¸Šæ¢æµ‹ TCP è¿æ¥ï¼‰] *****************************
ok: [10.0.101.89 -> localhost]

TASK [æµ‹è¯• SSH è¿æ¥ï¼ˆåœ¨æ–° VM ä¸Šç”¨ ansible_ssh_pass ç™»å½•ï¼‰] *********************
fatal: [10.0.101.89]: FAILED! => {"changed": false, "elapsed": 300, "msg": "timed out waiting for ping module test: Invalid/incorrect password: Warning: Permanently added '10.0.101.89' (ED25519) to the list of known hosts.\r\nPermission denied, please try again."}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
localhost                  : ok=7    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


stderr:
[WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-07-10 10:03:27,303 INFO 192.168.12.64 - - [10/Jul/2025 10:03:27] "[35m[1mPOST /submit HTTP/1.1[0m" 500 -
2025-07-11 01:26:53,568 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 01:26:53,568 INFO [33mPress CTRL+C to quit[0m
2025-07-11 01:26:53,569 INFO  * Restarting with stat
2025-07-11 01:26:53,816 WARNING  * Debugger is active!
2025-07-11 01:26:53,817 INFO  * Debugger PIN: 105-759-827
2025-07-11 01:27:08,710 INFO 192.168.12.64 - - [11/Jul/2025 01:27:08] "GET / HTTP/1.1" 200 -
2025-07-11 01:27:09,530 INFO 192.168.12.64 - - [11/Jul/2025 01:27:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-11 01:30:40,111 WARNING æœªåœ¨ Ansible è¾“å‡ºä¸­æ‰¾åˆ° JSON å¯†ç æ˜ å°„ï¼Œstdout æœ€åä¸€è¡Œæ˜¯ï¼š ['']
2025-07-11 01:30:40,112 INFO 192.168.12.64 - - [11/Jul/2025 01:30:40] "POST /submit HTTP/1.1" 200 -
2025-07-11 01:56:00,129 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 01:56:00,129 INFO [33mPress CTRL+C to quit[0m
2025-07-11 01:56:00,130 INFO  * Restarting with stat
2025-07-11 01:56:00,363 WARNING  * Debugger is active!
2025-07-11 01:56:00,363 INFO  * Debugger PIN: 113-525-446
2025-07-11 02:01:26,734 WARNING æœªåœ¨ Ansible è¾“å‡ºä¸­æ‰¾åˆ° JSON å¯†ç æ˜ å°„ï¼Œstdout æœ€åä¸€è¡Œæ˜¯ï¼š ['']
2025-07-11 02:01:26,735 INFO 192.168.12.64 - - [11/Jul/2025 02:01:26] "POST /submit HTTP/1.1" 200 -
2025-07-11 02:08:54,484 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 02:08:54,484 INFO [33mPress CTRL+C to quit[0m
2025-07-11 02:08:54,485 INFO  * Restarting with stat
2025-07-11 02:08:54,711 WARNING  * Debugger is active!
2025-07-11 02:08:54,712 INFO  * Debugger PIN: 142-644-068
2025-07-11 02:08:56,593 INFO 192.168.12.64 - - [11/Jul/2025 02:08:56] "GET / HTTP/1.1" 200 -
2025-07-11 02:10:59,258 WARNING æœªåœ¨ Ansible è¾“å‡ºä¸­æ‰¾åˆ° JSON å¯†ç æ˜ å°„ï¼Œstdout æœ€åä¸€è¡Œæ˜¯ï¼š ['']
2025-07-11 02:10:59,258 INFO 192.168.12.64 - - [11/Jul/2025 02:10:59] "POST /submit HTTP/1.1" 200 -
2025-07-11 02:19:21,949 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 02:19:21,949 INFO [33mPress CTRL+C to quit[0m
2025-07-11 02:19:21,950 INFO  * Restarting with stat
2025-07-11 02:19:22,186 WARNING  * Debugger is active!
2025-07-11 02:19:22,186 INFO  * Debugger PIN: 134-509-015
2025-07-11 02:19:31,336 INFO 192.168.12.64 - - [11/Jul/2025 02:19:31] "GET / HTTP/1.1" 200 -
2025-07-11 02:21:51,589 WARNING æœªåœ¨ Ansible è¾“å‡ºä¸­æ‰¾åˆ° JSON å¯†ç æ˜ å°„ï¼Œstdout æœ€åä¸€è¡Œæ˜¯ï¼š ['']
2025-07-11 02:21:51,589 INFO 192.168.12.64 - - [11/Jul/2025 02:21:51] "POST /submit HTTP/1.1" 200 -
2025-07-11 02:30:13,881 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 02:30:13,882 INFO [33mPress CTRL+C to quit[0m
2025-07-11 02:30:13,882 INFO  * Restarting with stat
2025-07-11 02:30:14,119 WARNING  * Debugger is active!
2025-07-11 02:30:14,119 INFO  * Debugger PIN: 134-982-768
2025-07-11 02:30:16,653 INFO 192.168.12.64 - - [11/Jul/2025 02:30:16] "GET / HTTP/1.1" 200 -
2025-07-11 02:30:22,005 INFO 192.168.12.64 - - [11/Jul/2025 02:30:22] "GET / HTTP/1.1" 200 -
2025-07-11 02:34:56,036 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 02:34:56,036 INFO [33mPress CTRL+C to quit[0m
2025-07-11 02:34:56,037 INFO  * Restarting with stat
2025-07-11 02:34:56,265 WARNING  * Debugger is active!
2025-07-11 02:34:56,266 INFO  * Debugger PIN: 419-746-095
2025-07-11 02:34:58,777 INFO 192.168.12.64 - - [11/Jul/2025 02:34:58] "GET / HTTP/1.1" 200 -
2025-07-11 02:35:18,627 INFO 192.168.12.64 - - [11/Jul/2025 02:35:18] "GET / HTTP/1.1" 200 -
2025-07-11 02:37:18,283 WARNING æœªåœ¨ Ansible è¾“å‡ºä¸­æ‰¾åˆ° JSON å¯†ç æ˜ å°„ï¼Œstdout æœ€åä¸€è¡Œæ˜¯ï¼š ['']
2025-07-11 02:37:18,284 INFO 192.168.12.64 - - [11/Jul/2025 02:37:18] "POST /submit HTTP/1.1" 200 -
2025-07-11 02:48:24,228 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 02:48:24,228 INFO [33mPress CTRL+C to quit[0m
2025-07-11 02:48:24,229 INFO  * Restarting with stat
2025-07-11 02:48:24,461 WARNING  * Debugger is active!
2025-07-11 02:48:24,461 INFO  * Debugger PIN: 137-481-259
2025-07-11 02:48:26,914 INFO 192.168.12.64 - - [11/Jul/2025 02:48:26] "GET / HTTP/1.1" 200 -
2025-07-11 02:57:27,271 WARNING æœªåœ¨ Ansible è¾“å‡ºä¸­æ‰¾åˆ° JSON å¯†ç æ˜ å°„ï¼Œstdout æœ€åä¸€è¡Œæ˜¯ï¼š ['']
2025-07-11 02:57:27,272 INFO 192.168.12.64 - - [11/Jul/2025 02:57:27] "POST /submit HTTP/1.1" 200 -
2025-07-11 03:14:11,471 INFO  * Detected change in '/app/app.py', reloading
2025-07-11 03:14:11,518 INFO  * Restarting with stat
2025-07-11 03:14:11,754 WARNING  * Debugger is active!
2025-07-11 03:14:11,755 INFO  * Debugger PIN: 137-481-259
2025-07-11 03:14:18,854 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 03:14:18,855 INFO [33mPress CTRL+C to quit[0m
2025-07-11 03:14:18,855 INFO  * Restarting with stat
2025-07-11 03:14:19,088 WARNING  * Debugger is active!
2025-07-11 03:14:19,088 INFO  * Debugger PIN: 569-644-835
2025-07-11 03:14:45,860 INFO 192.168.12.64 - - [11/Jul/2025 03:14:45] "GET / HTTP/1.1" 200 -
2025-07-11 03:14:51,890 INFO 192.168.12.64 - - [11/Jul/2025 03:14:51] "GET / HTTP/1.1" 200 -
2025-07-11 03:15:07,972 ERROR Ansible æ‰§è¡Œå¤±è´¥ï¼Œreturncode=4
stdout:

stderr:
ERROR! 'delegate_to' is not a valid attribute for a Play

The error appears to be in '/app/create_vm.yml': line 131, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶
  ^ here

2025-07-11 03:15:07,973 INFO 192.168.12.64 - - [11/Jul/2025 03:15:07] "[35m[1mPOST /submit HTTP/1.1[0m" 500 -
2025-07-11 03:20:32,628 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 03:20:32,628 INFO [33mPress CTRL+C to quit[0m
2025-07-11 03:20:32,629 INFO  * Restarting with stat
2025-07-11 03:20:32,856 WARNING  * Debugger is active!
2025-07-11 03:20:32,857 INFO  * Debugger PIN: 137-954-250
2025-07-11 03:20:37,155 INFO 192.168.12.64 - - [11/Jul/2025 03:20:37] "GET / HTTP/1.1" 200 -
2025-07-11 03:22:25,700 INFO 192.168.12.64 - - [11/Jul/2025 03:22:25] "POST /submit HTTP/1.1" 200 -
2025-07-11 03:27:01,779 INFO 192.168.12.64 - - [11/Jul/2025 03:27:01] "POST /submit HTTP/1.1" 200 -
2025-07-11 03:36:01,937 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 03:36:01,937 INFO [33mPress CTRL+C to quit[0m
2025-07-11 03:36:01,938 INFO  * Restarting with stat
2025-07-11 03:36:02,165 WARNING  * Debugger is active!
2025-07-11 03:36:02,166 INFO  * Debugger PIN: 794-858-984
2025-07-11 03:36:22,454 INFO 192.168.12.64 - - [11/Jul/2025 03:36:22] "GET / HTTP/1.1" 200 -
2025-07-11 03:37:56,885 ERROR Ansible æ‰§è¡Œå¤±è´¥ï¼Œreturncode=4
stdout:

PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ] *************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„ï¼ˆä¿ç•™æ¨¡æ¿å¯†ç å’Œæ–° root å¯†ç ï¼‰] *************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… SSH å¯è¾¾] ***********************************************************
fatal: [10.0.101.89 -> localhost]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: Warning: Permanently added 'localhost' (ED25519) to the list of known hosts.\r\nroot@localhost: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).", "unreachable": true}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
localhost                  : ok=8    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


stderr:
[WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-07-11 03:37:56,886 INFO 192.168.12.64 - - [11/Jul/2025 03:37:56] "[35m[1mPOST /submit HTTP/1.1[0m" 500 -
2025-07-11 05:31:30,857 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 05:31:30,857 INFO [33mPress CTRL+C to quit[0m
2025-07-11 05:31:30,858 INFO  * Restarting with stat
2025-07-11 05:31:31,090 WARNING  * Debugger is active!
2025-07-11 05:31:31,090 INFO  * Debugger PIN: 899-299-142
2025-07-11 05:32:29,710 INFO 192.168.12.64 - - [11/Jul/2025 05:32:29] "GET / HTTP/1.1" 200 -
2025-07-11 05:32:33,462 INFO 192.168.12.64 - - [11/Jul/2025 05:32:33] "GET / HTTP/1.1" 200 -
2025-07-11 05:33:58,059 ERROR Ansible æ‰§è¡Œå¤±è´¥ï¼Œreturncode=4
stdout:

PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ] *************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„] *******************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆæ§åˆ¶æœºæ¢æµ‹ï¼Œhost ç”¨ inventory_hostnameï¼‰] **************
fatal: [10.0.101.89 -> localhost]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: Warning: Permanently added 'localhost' (ED25519) to the list of known hosts.\r\nroot@localhost: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).", "unreachable": true}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
localhost                  : ok=8    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


stderr:
[WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-07-11 05:33:58,059 INFO 192.168.12.64 - - [11/Jul/2025 05:33:58] "[35m[1mPOST /submit HTTP/1.1[0m" 500 -
2025-07-11 05:43:27,223 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-07-11 05:43:27,223 INFO [33mPress CTRL+C to quit[0m
2025-07-11 05:43:27,224 INFO  * Restarting with stat
2025-07-11 05:43:27,458 WARNING  * Debugger is active!
2025-07-11 05:43:27,459 INFO  * Debugger PIN: 112-022-472
2025-07-11 05:46:03,802 INFO 192.168.12.64 - - [11/Jul/2025 05:46:03] "GET / HTTP/1.1" 200 -
2025-07-11 05:46:06,918 INFO 192.168.12.64 - - [11/Jul/2025 05:46:06] "GET / HTTP/1.1" 200 -
2025-07-11 05:48:11,854 INFO 192.168.12.64 - - [11/Jul/2025 05:48:11] "POST /submit HTTP/1.1" 200 -
2025-07-11 05:52:56,159 INFO 192.168.12.64 - - [11/Jul/2025 05:52:56] "POST /submit HTTP/1.1" 200 -
2025-07-11 05:57:42,458 INFO 192.168.12.64 - - [11/Jul/2025 05:57:42] "GET / HTTP/1.1" 200 -
2025-07-11 05:59:43,661 INFO 192.168.12.64 - - [11/Jul/2025 05:59:43] "POST /submit HTTP/1.1" 200 -
2025-08-27 06:11:32,725 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.101.20:5000
2025-08-27 06:11:32,725 INFO [33mPress CTRL+C to quit[0m
2025-08-27 06:11:32,726 INFO  * Restarting with stat
2025-08-27 06:11:32,958 WARNING  * Debugger is active!
2025-08-27 06:11:32,959 INFO  * Debugger PIN: 140-684-035
2025-08-27 06:12:24,128 INFO 192.168.12.64 - - [27/Aug/2025 06:12:24] "GET / HTTP/1.1" 200 -
2025-08-27 06:13:21,150 INFO ESXiä¸»æœºé…ç½®: 10.0.200.28
2025-08-27 06:13:21,150 INFO è°ƒåº¦ç­–ç•¥: single-esxi
2025-08-27 06:13:21,151 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-27 06:13:21,151 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'ShanYan-SSD', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'hostnames': 'miyaofenfa', 'vm_ips': '10.0.101.89', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '400', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-GPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'single-esxi', 'esxi_hostnames': '10.0.200.28'}
2025-08-27 06:13:21,151 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-27 06:13:23,574 ERROR Ansible æ‰§è¡Œå¤±è´¥ï¼Œreturncode=2
stdout:

PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)

TASK [æ˜¾ç¤ºç”Ÿæˆçš„éšæœºå¯†ç ï¼ˆè°ƒè¯•ç”¨ï¼‰] ********************************************
skipping: [localhost]

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: single-esxi\næ‰€æœ‰VMå°†éƒ¨ç½²åˆ°: 10.0.200.28\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89", "miyaofenfa", "10.0.101.89"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}

PLAY RECAP *********************************************************************
localhost                  : ok=8    changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   


stderr:
[WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-27 06:13:23,575 INFO 192.168.12.64 - - [27/Aug/2025 06:13:23] "[35m[1mPOST /submit HTTP/1.1[0m" 500 -
2025-08-27 06:22:41,867 INFO 192.168.12.64 - - [27/Aug/2025 06:22:41] "GET / HTTP/1.1" 200 -
2025-08-27 06:22:58,148 INFO ESXiä¸»æœºé…ç½®: 10.0.200.28
2025-08-27 06:22:58,148 INFO è°ƒåº¦ç­–ç•¥: single-esxi
2025-08-27 06:22:58,148 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-27 06:22:58,149 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'ShanYan-SSD', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'hostnames': 'miyaofenfa', 'vm_ips': '10.0.101.89', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '400', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-GPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'single-esxi', 'esxi_hostnames': '10.0.200.28'}
2025-08-27 06:22:58,149 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-27 06:24:43,206 ERROR Ansible æ‰§è¡Œå¤±è´¥ï¼Œreturncode=2
stdout:

PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)

TASK [æ˜¾ç¤ºç”Ÿæˆçš„éšæœºå¯†ç ï¼ˆè°ƒè¯•ç”¨ï¼‰] ********************************************
skipping: [localhost]

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: single-esxi\næ‰€æœ‰VMå°†éƒ¨ç½²åˆ°: 10.0.200.28\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89', '10.0.200.28']) 
skipping: [localhost]

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„] *******************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

TASK [æ˜¾ç¤ºéƒ¨ç½²ç»“æœæ‘˜è¦] ********************************************************
ok: [localhost] => {
    "msg": "éƒ¨ç½²å®Œæˆæ‘˜è¦:\n- æ€»è®¡éƒ¨ç½²VM: 1å°\n- è°ƒåº¦ç­–ç•¥: æŒ‡å®šå•å°ä¸»æœº(10.0.200.28)\nVMè¯¦ç»†ä¿¡æ¯:\n1. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89 -> 10.0.101.89 (ä¸»æœºå: miyaofenfa, ESXi: 10.0.200.28)\n"
}

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆæ§åˆ¶æœºæ¢æµ‹ï¼‰] ******************************************
ok: [10.0.101.89 -> localhost]

TASK [æµ‹è¯• SSH è¿æ¥ï¼ˆä½¿ç”¨æ¨¡æ¿åŸå§‹å¯†ç ï¼‰] ***************************************
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºå½“å‰VMçš„å¯†ç ä¿¡æ¯] ****************************************************
ok: [10.0.101.89] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.89\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : qB3kK5JQPV8A0DIx\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}

TASK [ä¿®æ”¹ root å¯†ç ä¸ºéšæœºç”Ÿæˆçš„æ–°å¯†ç ] ****************************************
changed: [10.0.101.89]

TASK [ç¡®è®¤å¯†ç ä¿®æ”¹æˆåŠŸ] ********************************************************
ok: [10.0.101.89] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : qB3kK5JQPV8A0DIx"
}

TASK [æ³¨å…¥SSHå…¬é’¥åˆ° root ç”¨æˆ·] *************************************************
ok: [10.0.101.89]

TASK [ç¡®è®¤SSHå¯†é’¥æ³¨å…¥æˆåŠŸ] *****************************************************
ok: [10.0.101.89] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥æˆåŠŸï¼\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.89\n"
}

TASK [éªŒè¯SSHå¯†é’¥é…ç½®] *********************************************************
fatal: [10.0.101.89]: FAILED! => {"changed": true, "cmd": "echo \"æ£€æŸ¥SSHå¯†é’¥é…ç½®...\"\nls -la /root/.ssh/\nwc -l /root/.ssh/authorized_keys\n", "delta": "0:00:00.006163", "end": "2025-08-27 14:24:43.056082", "msg": "non-zero return code", "rc": 1, "start": "2025-08-27 14:24:43.049919", "stderr": "wc: /root/.ssh/authorized_keys: No such file or directory", "stderr_lines": ["wc: /root/.ssh/authorized_keys: No such file or directory"], "stdout": "æ£€æŸ¥SSHå¯†é’¥é…ç½®...\ntotal 8\ndrwx------  2 root root  48 Aug 13 10:12 .\ndr-xr-x---. 4 root root 197 Aug 27 14:24 ..\n-rw-------  1 root root 659 Aug 13 10:12 known_hosts\n-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old", "stdout_lines": ["æ£€æŸ¥SSHå¯†é’¥é…ç½®...", "total 8", "drwx------  2 root root  48 Aug 13 10:12 .", "dr-xr-x---. 4 root root 197 Aug 27 14:24 ..", "-rw-------  1 root root 659 Aug 13 10:12 known_hosts", "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old"]}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=7    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
localhost                  : ok=12   changed=3    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   


stderr:
[WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.89 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-27 06:24:43,208 INFO 192.168.12.64 - - [27/Aug/2025 06:24:43] "[35m[1mPOST /submit HTTP/1.1[0m" 500 -
2025-08-27 06:36:48,240 INFO 192.168.12.64 - - [27/Aug/2025 06:36:48] "GET / HTTP/1.1" 200 -
2025-08-27 06:39:34,978 INFO ESXiä¸»æœºé…ç½®: 10.0.200.28
2025-08-27 06:39:34,978 INFO è°ƒåº¦ç­–ç•¥: single-esxi
2025-08-27 06:39:34,979 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-27 06:39:34,979 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'ShanYan-SSD', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'hostnames': 'miyaofenfa', 'vm_ips': '10.0.101.89', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '400', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-GPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'single-esxi', 'esxi_hostnames': '10.0.200.28'}
2025-08-27 06:39:34,980 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-27 06:41:40,515 INFO Ansible æ‰§è¡ŒæˆåŠŸ
2025-08-27 06:41:40,515 INFO stdout: 
PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)

TASK [æ˜¾ç¤ºç”Ÿæˆçš„éšæœºå¯†ç ï¼ˆè°ƒè¯•ç”¨ï¼‰] ********************************************
skipping: [localhost]

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: single-esxi\næ‰€æœ‰VMå°†éƒ¨ç½²åˆ°: 10.0.200.28\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89', '10.0.200.28']) 
skipping: [localhost]

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„] *******************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

TASK [æ˜¾ç¤ºéƒ¨ç½²ç»“æœæ‘˜è¦] ********************************************************
ok: [localhost] => {
    "msg": "éƒ¨ç½²å®Œæˆæ‘˜è¦:\n- æ€»è®¡éƒ¨ç½²VM: 1å°\n- è°ƒåº¦ç­–ç•¥: æŒ‡å®šå•å°ä¸»æœº(10.0.200.28)\nVMè¯¦ç»†ä¿¡æ¯:\n1. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89 -> 10.0.101.89 (ä¸»æœºå: miyaofenfa, ESXi: 10.0.200.28)\n"
}

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆæ§åˆ¶æœºæ¢æµ‹ï¼‰] ******************************************
ok: [10.0.101.89 -> localhost]

TASK [æµ‹è¯• SSH è¿æ¥ï¼ˆä½¿ç”¨æ¨¡æ¿åŸå§‹å¯†ç ï¼‰] ***************************************
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºå½“å‰VMçš„å¯†ç ä¿¡æ¯] ****************************************************
ok: [10.0.101.89] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.89\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : ZB3R2cTFQLzWlvXI\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}

TASK [ä¿®æ”¹ root å¯†ç ä¸ºéšæœºç”Ÿæˆçš„æ–°å¯†ç ] ****************************************
changed: [10.0.101.89]

TASK [ç¡®è®¤å¯†ç ä¿®æ”¹æˆåŠŸ] ********************************************************
ok: [10.0.101.89] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : ZB3R2cTFQLzWlvXI"
}

TASK [ç¡®ä¿.sshç›®å½•å­˜åœ¨å¹¶è®¾ç½®æ­£ç¡®æƒé™] ******************************************
ok: [10.0.101.89]

TASK [æ³¨å…¥SSHå…¬é’¥åˆ° root ç”¨æˆ·] *************************************************
ok: [10.0.101.89]

TASK [ç¡®è®¤SSHå¯†é’¥æ³¨å…¥æˆåŠŸ] *****************************************************
ok: [10.0.101.89] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.89\n"
}

TASK [éªŒè¯authorized_keysæ–‡ä»¶æ˜¯å¦å­˜åœ¨] *****************************************
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºauthorized_keysæ–‡ä»¶çŠ¶æ€] *********************************************
ok: [10.0.101.89] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: False\n"
}

TASK [éªŒè¯SSHå¯†é’¥å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼‰] *****************************************
skipping: [10.0.101.89]

TASK [åˆ›å»ºauthorized_keysæ–‡ä»¶ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼‰] *********************
changed: [10.0.101.89]

TASK [æœ€ç»ˆéªŒè¯SSHé…ç½®] *********************************************************
changed: [10.0.101.89]

TASK [æ˜¾ç¤ºæœ€ç»ˆéªŒè¯ç»“æœ] ********************************************************
ok: [10.0.101.89] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Aug 27 14:41 .",
        "dr-xr-x---. 4 root root 197 Aug 27 14:41 ..",
        "-rw-------  1 root root  37 Aug 27 14:41 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        " Auto-injected by VM creation script"
    ]
}

TASK [æ˜¾ç¤ºVMæœ€ç»ˆé…ç½®æ‘˜è¦] ******************************************************
ok: [10.0.101.89] => {
    "msg": "ğŸ‰ VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89\nIPåœ°å€: 10.0.101.89\nä¸»æœºå: miyaofenfa\n--------------------------------\nğŸ” å®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (ZB3R2cTFQLzWlvXI)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nğŸš€ VMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.89\n2. å¯†ç è®¤è¯: ssh root@10.0.101.89 (å¯†ç : ZB3R2cTFQLzWlvXI)\n"
}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=14   changed=3    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
localhost                  : ok=12   changed=3    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   


2025-08-27 06:41:40,515 WARNING stderr: [WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.89 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-27 06:41:40,516 INFO æˆåŠŸè¯»å–å¯†ç æ˜ å°„: {'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89': 'ZB3R2cTFQLzWlvXI'}
2025-08-27 06:41:40,516 INFO 192.168.12.64 - - [27/Aug/2025 06:41:40] "POST /submit HTTP/1.1" 200 -
2025-08-27 07:04:49,052 INFO 192.168.12.64 - - [27/Aug/2025 07:04:49] "GET / HTTP/1.1" 200 -
2025-08-27 07:05:27,188 INFO ESXiä¸»æœºé…ç½®: 10.0.200.28
2025-08-27 07:05:27,188 INFO è°ƒåº¦ç­–ç•¥: single-esxi
2025-08-27 07:05:27,190 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-27 07:05:27,190 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'ShanYan-SSD', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'hostnames': 'miyaofenfa', 'vm_ips': '10.0.101.89', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '200', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-GPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'single-esxi', 'esxi_hostnames': '10.0.200.28'}
2025-08-27 07:05:27,190 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-27 07:07:50,446 INFO Ansible æ‰§è¡ŒæˆåŠŸ
2025-08-27 07:07:50,446 INFO stdout: 
PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)

TASK [æ˜¾ç¤ºç”Ÿæˆçš„éšæœºå¯†ç ï¼ˆè°ƒè¯•ç”¨ï¼‰] ********************************************
skipping: [localhost]

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: single-esxi\næ‰€æœ‰VMå°†éƒ¨ç½²åˆ°: 10.0.200.28\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89', '10.0.200.28']) 
skipping: [localhost]

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„] *******************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

TASK [æ˜¾ç¤ºéƒ¨ç½²ç»“æœæ‘˜è¦] ********************************************************
ok: [localhost] => {
    "msg": "éƒ¨ç½²å®Œæˆæ‘˜è¦:\n- æ€»è®¡éƒ¨ç½²VM: 1å°\n- è°ƒåº¦ç­–ç•¥: æŒ‡å®šå•å°ä¸»æœº(10.0.200.28)\nVMè¯¦ç»†ä¿¡æ¯:\n1. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89 -> 10.0.101.89 (ä¸»æœºå: miyaofenfa, ESXi: 10.0.200.28)\n"
}

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆæ§åˆ¶æœºæ¢æµ‹ï¼‰] ******************************************
ok: [10.0.101.89 -> localhost]

TASK [æµ‹è¯• SSH è¿æ¥ï¼ˆä½¿ç”¨æ¨¡æ¿åŸå§‹å¯†ç ï¼‰] ***************************************
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºå½“å‰VMçš„å¯†ç ä¿¡æ¯] ****************************************************
ok: [10.0.101.89] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.89\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : 3SafBE1soxSea5yL\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}

TASK [ä¿®æ”¹ root å¯†ç ä¸ºéšæœºç”Ÿæˆçš„æ–°å¯†ç ] ****************************************
changed: [10.0.101.89]

TASK [ç¡®è®¤å¯†ç ä¿®æ”¹æˆåŠŸ] ********************************************************
ok: [10.0.101.89] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : 3SafBE1soxSea5yL"
}

TASK [ç¡®ä¿.sshç›®å½•å­˜åœ¨å¹¶è®¾ç½®æ­£ç¡®æƒé™] ******************************************
ok: [10.0.101.89]

TASK [æ³¨å…¥SSHå…¬é’¥åˆ° root ç”¨æˆ·] *************************************************
changed: [10.0.101.89]

TASK [ç¡®è®¤SSHå¯†é’¥æ³¨å…¥æˆåŠŸ] *****************************************************
ok: [10.0.101.89] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.89\n"
}

TASK [éªŒè¯authorized_keysæ–‡ä»¶æ˜¯å¦å­˜åœ¨] *****************************************
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºauthorized_keysæ–‡ä»¶çŠ¶æ€] *********************************************
ok: [10.0.101.89] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}

TASK [éªŒè¯SSHå¯†é’¥å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼‰] *****************************************
changed: [10.0.101.89]

TASK [åˆ›å»ºauthorized_keysæ–‡ä»¶ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼‰] *********************
skipping: [10.0.101.89]

TASK [æœ€ç»ˆéªŒè¯SSHé…ç½®] *********************************************************
changed: [10.0.101.89]

TASK [æ˜¾ç¤ºæœ€ç»ˆéªŒè¯ç»“æœ] ********************************************************
ok: [10.0.101.89] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Aug 27 15:07 .",
        "dr-xr-x---. 4 root root 197 Aug 27 15:07 ..",
        "-rw-------  1 root root 761 Aug 27 15:07 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}

TASK [æ˜¾ç¤ºVMæœ€ç»ˆé…ç½®æ‘˜è¦] ******************************************************
ok: [10.0.101.89] => {
    "msg": "ğŸ‰ VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89\nIPåœ°å€: 10.0.101.89\nä¸»æœºå: miyaofenfa\n--------------------------------\nğŸ” å®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (3SafBE1soxSea5yL)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nğŸš€ VMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.89\n2. å¯†ç è®¤è¯: ssh root@10.0.101.89 (å¯†ç : 3SafBE1soxSea5yL)\n"
}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
localhost                  : ok=12   changed=3    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   


2025-08-27 07:07:50,446 WARNING stderr: [WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.89 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-27 07:07:50,447 INFO æˆåŠŸè¯»å–å¯†ç æ˜ å°„: {'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89': '3SafBE1soxSea5yL'}
2025-08-27 07:07:50,448 INFO 192.168.12.64 - - [27/Aug/2025 07:07:50] "POST /submit HTTP/1.1" 200 -
2025-08-27 07:19:41,403 INFO ESXiä¸»æœºé…ç½®: 10.0.200.44,10.0.200.41,10.0.200.31
2025-08-27 07:19:41,404 INFO è°ƒåº¦ç­–ç•¥: multi-esxi
2025-08-27 07:19:41,404 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-27 07:19:41,404 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'ShanYan-SSD', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89,æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90,æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'hostnames': 'miyaofenfa,miyaofenfa1,miyaofenfa2', 'vm_ips': '10.0.101.89,10.0.101.90,10.0.101.91', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '200', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-CPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'multi-esxi', 'esxi_hostnames': '10.0.200.44,10.0.200.41,10.0.200.31'}
2025-08-27 07:19:41,405 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-27 07:19:44,822 ERROR Ansible æ‰§è¡Œå¤±è´¥ï¼Œreturncode=2
stdout:

PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90)
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91)

TASK [æ˜¾ç¤ºç”Ÿæˆçš„éšæœºå¯†ç ï¼ˆè°ƒè¯•ç”¨ï¼‰] ********************************************
skipping: [localhost]

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: multi-esxi\nVMå°†æŒ‰æŒ‡å®šä¸»æœºåˆ†åˆ«éƒ¨ç½²\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'miyaofenfa2', '10.0.101.91']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'miyaofenfa2', '10.0.101.91']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89', '10.0.200.44']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89", "miyaofenfa", "10.0.101.89", "10.0.200.44"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90', '10.0.200.41']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90", "miyaofenfa1", "10.0.101.90", "10.0.200.41"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'miyaofenfa2', '10.0.101.91', '10.0.200.31']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91", "miyaofenfa2", "10.0.101.91", "10.0.200.31"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}

PLAY RECAP *********************************************************************
localhost                  : ok=8    changed=0    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   


stderr:
[WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-27 07:19:44,823 INFO 192.168.12.64 - - [27/Aug/2025 07:19:44] "[35m[1mPOST /submit HTTP/1.1[0m" 500 -
2025-08-27 08:07:34,049 INFO ESXiä¸»æœºé…ç½®: 10.0.200.44,10.0.200.41,10.0.200.42
2025-08-27 08:07:34,049 INFO è°ƒåº¦ç­–ç•¥: multi-esxi
2025-08-27 08:07:34,050 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-27 08:07:34,050 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'ShanYan-SSD', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89,æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90,æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'hostnames': 'miyaofenfa,miyaofenfa1,miyaofenfa2', 'vm_ips': '10.0.101.89,10.0.101.90,10.0.101.91', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '200', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-CPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'multi-esxi', 'esxi_hostnames': '10.0.200.44,10.0.200.41,10.0.200.42'}
2025-08-27 08:07:34,051 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-27 08:07:37,524 ERROR Ansible æ‰§è¡Œå¤±è´¥ï¼Œreturncode=2
stdout:

PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90)
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91)

TASK [æ˜¾ç¤ºç”Ÿæˆçš„éšæœºå¯†ç ï¼ˆè°ƒè¯•ç”¨ï¼‰] ********************************************
skipping: [localhost]

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: multi-esxi\nVMå°†æŒ‰æŒ‡å®šä¸»æœºåˆ†åˆ«éƒ¨ç½²\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'miyaofenfa2', '10.0.101.91']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'miyaofenfa2', '10.0.101.91']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89', '10.0.200.44']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89", "miyaofenfa", "10.0.101.89", "10.0.200.44"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90', '10.0.200.41']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90", "miyaofenfa1", "10.0.101.90", "10.0.200.41"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'miyaofenfa2', '10.0.101.91', '10.0.200.42']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91", "miyaofenfa2", "10.0.101.91", "10.0.200.42"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}

PLAY RECAP *********************************************************************
localhost                  : ok=8    changed=0    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   


stderr:
[WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-27 08:07:37,525 INFO 192.168.12.64 - - [27/Aug/2025 08:07:37] "[35m[1mPOST /submit HTTP/1.1[0m" 500 -
2025-08-27 08:57:29,790 INFO 192.168.12.64 - - [27/Aug/2025 08:57:29] "GET / HTTP/1.1" 200 -
2025-08-27 09:00:09,636 INFO ESXiä¸»æœºé…ç½®: 10.0.200.14,10.0.200.15,10.0.200.16
2025-08-27 09:00:09,636 INFO è°ƒåº¦ç­–ç•¥: multi-esxi
2025-08-27 09:00:09,636 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-27 09:00:09,637 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'ShanYan-SSD', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89,æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90,æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'hostnames': 'miyaofenfa,miyaofenfa1,miyaofenfa2', 'vm_ips': '10.0.101.89,10.0.101.90,10.0.101.91', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '200', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-CPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'multi-esxi', 'esxi_hostnames': '10.0.200.14,10.0.200.15,10.0.200.16'}
2025-08-27 09:00:09,637 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-27 09:00:13,102 ERROR Ansible æ‰§è¡Œå¤±è´¥ï¼Œreturncode=2
stdout:

PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90)
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91)

TASK [æ˜¾ç¤ºç”Ÿæˆçš„éšæœºå¯†ç ï¼ˆè°ƒè¯•ç”¨ï¼‰] ********************************************
skipping: [localhost]

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: multi-esxi\nVMå°†æŒ‰æŒ‡å®šä¸»æœºåˆ†åˆ«éƒ¨ç½²\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'miyaofenfa2', '10.0.101.91']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'miyaofenfa2', '10.0.101.91']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89', '10.0.200.14']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89", "miyaofenfa", "10.0.101.89", "10.0.200.14"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90', '10.0.200.15']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90", "miyaofenfa1", "10.0.101.90", "10.0.200.15"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}
failed: [localhost] (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91', 'miyaofenfa2', '10.0.101.91', '10.0.200.16']) => {"ansible_loop_var": "item", "changed": false, "item": ["æµ‹è¯•-å¯†é’¥åˆ†å‘-101.91", "miyaofenfa2", "10.0.101.91", "10.0.200.16"], "msg": "parameters are mutually exclusive: cluster|esxi_hostname"}

PLAY RECAP *********************************************************************
localhost                  : ok=8    changed=0    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   


stderr:
[WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-27 09:00:13,103 INFO 192.168.12.64 - - [27/Aug/2025 09:00:13] "[35m[1mPOST /submit HTTP/1.1[0m" 500 -
2025-08-27 09:04:12,803 INFO 192.168.12.64 - - [27/Aug/2025 09:04:12] "GET / HTTP/1.1" 200 -
2025-08-27 09:05:07,698 INFO ESXiä¸»æœºé…ç½®: 10.0.200.14,10.0.200.15
2025-08-27 09:05:07,698 INFO è°ƒåº¦ç­–ç•¥: multi-esxi
2025-08-27 09:05:07,698 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-27 09:05:07,698 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'ShanYan-SSD', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89,æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'hostnames': 'miyaofenfa,miyaofenfa1', 'vm_ips': '10.0.101.89,10.0.101.90', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '200', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-CPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'multi-esxi', 'esxi_hostnames': '10.0.200.14,10.0.200.15'}
2025-08-27 09:05:07,699 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-27 09:08:22,135 INFO Ansible æ‰§è¡ŒæˆåŠŸ
2025-08-27 09:08:22,135 INFO stdout: 
PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90)

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: multi-esxi\nVMå°†æŒ‰æŒ‡å®šä¸»æœºåˆ†åˆ«éƒ¨ç½²\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89', '10.0.200.14'])
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90', '10.0.200.15'])

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„] *******************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

TASK [æ˜¾ç¤ºéƒ¨ç½²ç»“æœæ‘˜è¦] ********************************************************
ok: [localhost] => {
    "msg": "éƒ¨ç½²å®Œæˆæ‘˜è¦:\n- æ€»è®¡éƒ¨ç½²VM: 2å°\n- è°ƒåº¦ç­–ç•¥: åˆ†åˆ«æŒ‡å®šä¸»æœº\nVMè¯¦ç»†ä¿¡æ¯:\n1. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89 -> 10.0.101.89 (ä¸»æœºå: miyaofenfa, ESXi: 10.0.200.14)\n2. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90 -> 10.0.101.90 (ä¸»æœºå: miyaofenfa1, ESXi: 10.0.200.15)\n"
}

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆæ§åˆ¶æœºæ¢æµ‹ï¼‰] ******************************************
ok: [10.0.101.89 -> localhost]
ok: [10.0.101.90 -> localhost]

TASK [æµ‹è¯• SSH è¿æ¥ï¼ˆä½¿ç”¨æ¨¡æ¿åŸå§‹å¯†ç ï¼‰] ***************************************
ok: [10.0.101.90]
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºå½“å‰VMçš„å¯†ç ä¿¡æ¯] ****************************************************
ok: [10.0.101.89] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.89\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : 1XPg4cl8xjHTMrNf\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}
ok: [10.0.101.90] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.90\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : QBzaqDxqX0YXd5vh\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}

TASK [ä¿®æ”¹ root å¯†ç ä¸ºéšæœºç”Ÿæˆçš„æ–°å¯†ç ] ****************************************
changed: [10.0.101.90]
changed: [10.0.101.89]

TASK [ç¡®è®¤å¯†ç ä¿®æ”¹æˆåŠŸ] ********************************************************
ok: [10.0.101.89] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : 1XPg4cl8xjHTMrNf"
}
ok: [10.0.101.90] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : QBzaqDxqX0YXd5vh"
}

TASK [ç¡®ä¿.sshç›®å½•å­˜åœ¨å¹¶è®¾ç½®æ­£ç¡®æƒé™] ******************************************
ok: [10.0.101.89]
ok: [10.0.101.90]

TASK [æ³¨å…¥SSHå…¬é’¥åˆ° root ç”¨æˆ·] *************************************************
changed: [10.0.101.89]
changed: [10.0.101.90]

TASK [ç¡®è®¤SSHå¯†é’¥æ³¨å…¥æˆåŠŸ] *****************************************************
ok: [10.0.101.89] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.89\n"
}
ok: [10.0.101.90] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.90\n"
}

TASK [éªŒè¯authorized_keysæ–‡ä»¶æ˜¯å¦å­˜åœ¨] *****************************************
ok: [10.0.101.90]
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºauthorized_keysæ–‡ä»¶çŠ¶æ€] *********************************************
ok: [10.0.101.89] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}
ok: [10.0.101.90] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}

TASK [éªŒè¯SSHå¯†é’¥å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼‰] *****************************************
changed: [10.0.101.89]
changed: [10.0.101.90]

TASK [åˆ›å»ºauthorized_keysæ–‡ä»¶ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼‰] *********************
skipping: [10.0.101.89]
skipping: [10.0.101.90]

TASK [æœ€ç»ˆéªŒè¯SSHé…ç½®] *********************************************************
changed: [10.0.101.89]
changed: [10.0.101.90]

TASK [æ˜¾ç¤ºæœ€ç»ˆéªŒè¯ç»“æœ] ********************************************************
ok: [10.0.101.89] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Aug 27 17:08 .",
        "dr-xr-x---. 4 root root 197 Aug 27 17:08 ..",
        "-rw-------  1 root root 761 Aug 27 17:08 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}
ok: [10.0.101.90] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Aug 27 17:08 .",
        "dr-xr-x---. 4 root root 197 Aug 27 17:08 ..",
        "-rw-------  1 root root 761 Aug 27 17:08 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}

TASK [æ˜¾ç¤ºVMæœ€ç»ˆé…ç½®æ‘˜è¦] ******************************************************
ok: [10.0.101.89] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89\nIPåœ°å€: 10.0.101.89\nä¸»æœºå: miyaofenfa\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (1XPg4cl8xjHTMrNf)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.89\n2. å¯†ç è®¤è¯: ssh root@10.0.101.89 (å¯†ç : 1XPg4cl8xjHTMrNf)\n"
}
ok: [10.0.101.90] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90\nIPåœ°å€: 10.0.101.90\nä¸»æœºå: miyaofenfa1\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (QBzaqDxqX0YXd5vh)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.90\n2. å¯†ç è®¤è¯: ssh root@10.0.101.90 (å¯†ç : QBzaqDxqX0YXd5vh)\n"
}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
10.0.101.90                : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
localhost                  : ok=12   changed=3    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   


2025-08-27 09:08:22,135 WARNING stderr: [WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.90 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.89 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-27 09:08:22,135 INFO æˆåŠŸè¯»å–å¯†ç æ˜ å°„: {'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89': '1XPg4cl8xjHTMrNf', 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90': 'QBzaqDxqX0YXd5vh'}
2025-08-27 09:08:22,136 INFO 192.168.12.64 - - [27/Aug/2025 09:08:22] "POST /submit HTTP/1.1" 200 -
2025-08-27 09:12:18,504 INFO 192.168.12.64 - - [27/Aug/2025 09:12:18] "GET / HTTP/1.1" 200 -
2025-08-27 09:12:47,670 INFO è°ƒåº¦ç­–ç•¥: cluster
2025-08-27 09:12:47,670 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-27 09:12:47,670 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'ShanYan-SSD', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89,æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'hostnames': 'miyaofenfa,miyaofenfa1', 'vm_ips': '10.0.101.89,10.0.101.90', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '200', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-CPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'cluster'}
2025-08-27 09:12:47,671 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-27 09:13:23,260 INFO 192.168.12.64 - - [27/Aug/2025 09:13:23] "GET / HTTP/1.1" 200 -
2025-08-27 09:13:23,345 INFO 192.168.12.64 - - [27/Aug/2025 09:13:23] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-27 09:14:33,480 INFO 192.168.66.147 - - [27/Aug/2025 09:14:33] "GET / HTTP/1.1" 200 -
2025-08-27 09:14:33,753 INFO 192.168.66.147 - - [27/Aug/2025 09:14:33] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-27 09:16:02,456 INFO Ansible æ‰§è¡ŒæˆåŠŸ
2025-08-27 09:16:02,456 INFO stdout: 
PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
skipping: [localhost]

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90)

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: cluster\nå°†ä½¿ç”¨é›†ç¾¤è‡ªåŠ¨è°ƒåº¦\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90'])

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
skipping: [localhost]

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„] *******************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

TASK [æ˜¾ç¤ºéƒ¨ç½²ç»“æœæ‘˜è¦] ********************************************************
ok: [localhost] => {
    "msg": "éƒ¨ç½²å®Œæˆæ‘˜è¦:\n- æ€»è®¡éƒ¨ç½²VM: 2å°\n- è°ƒåº¦ç­–ç•¥: é›†ç¾¤è‡ªåŠ¨è°ƒåº¦\nVMè¯¦ç»†ä¿¡æ¯:\n1. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89 -> 10.0.101.89 (ä¸»æœºå: miyaofenfa)\n2. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90 -> 10.0.101.90 (ä¸»æœºå: miyaofenfa1)\n"
}

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆæ§åˆ¶æœºæ¢æµ‹ï¼‰] ******************************************
ok: [10.0.101.89 -> localhost]
ok: [10.0.101.90 -> localhost]

TASK [æµ‹è¯• SSH è¿æ¥ï¼ˆä½¿ç”¨æ¨¡æ¿åŸå§‹å¯†ç ï¼‰] ***************************************
ok: [10.0.101.89]
ok: [10.0.101.90]

TASK [æ˜¾ç¤ºå½“å‰VMçš„å¯†ç ä¿¡æ¯] ****************************************************
ok: [10.0.101.89] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.89\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : V8pCMc7cDPQu3PW1\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}
ok: [10.0.101.90] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.90\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : 81GI5G3Ymkpgw67y\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}

TASK [ä¿®æ”¹ root å¯†ç ä¸ºéšæœºç”Ÿæˆçš„æ–°å¯†ç ] ****************************************
changed: [10.0.101.89]
changed: [10.0.101.90]

TASK [ç¡®è®¤å¯†ç ä¿®æ”¹æˆåŠŸ] ********************************************************
ok: [10.0.101.89] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : V8pCMc7cDPQu3PW1"
}
ok: [10.0.101.90] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : 81GI5G3Ymkpgw67y"
}

TASK [ç¡®ä¿.sshç›®å½•å­˜åœ¨å¹¶è®¾ç½®æ­£ç¡®æƒé™] ******************************************
ok: [10.0.101.90]
ok: [10.0.101.89]

TASK [æ³¨å…¥SSHå…¬é’¥åˆ° root ç”¨æˆ·] *************************************************
changed: [10.0.101.90]
changed: [10.0.101.89]

TASK [ç¡®è®¤SSHå¯†é’¥æ³¨å…¥æˆåŠŸ] *****************************************************
ok: [10.0.101.89] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.89\n"
}
ok: [10.0.101.90] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.90\n"
}

TASK [éªŒè¯authorized_keysæ–‡ä»¶æ˜¯å¦å­˜åœ¨] *****************************************
ok: [10.0.101.90]
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºauthorized_keysæ–‡ä»¶çŠ¶æ€] *********************************************
ok: [10.0.101.89] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}
ok: [10.0.101.90] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}

TASK [éªŒè¯SSHå¯†é’¥å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼‰] *****************************************
changed: [10.0.101.90]
changed: [10.0.101.89]

TASK [åˆ›å»ºauthorized_keysæ–‡ä»¶ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼‰] *********************
skipping: [10.0.101.89]
skipping: [10.0.101.90]

TASK [æœ€ç»ˆéªŒè¯SSHé…ç½®] *********************************************************
changed: [10.0.101.90]
changed: [10.0.101.89]

TASK [æ˜¾ç¤ºæœ€ç»ˆéªŒè¯ç»“æœ] ********************************************************
ok: [10.0.101.89] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Aug 27 17:15 .",
        "dr-xr-x---. 4 root root 197 Aug 27 17:15 ..",
        "-rw-------  1 root root 761 Aug 27 17:15 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}
ok: [10.0.101.90] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Aug 27 17:15 .",
        "dr-xr-x---. 4 root root 197 Aug 27 17:15 ..",
        "-rw-------  1 root root 761 Aug 27 17:15 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}

TASK [æ˜¾ç¤ºVMæœ€ç»ˆé…ç½®æ‘˜è¦] ******************************************************
ok: [10.0.101.89] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89\nIPåœ°å€: 10.0.101.89\nä¸»æœºå: miyaofenfa\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (V8pCMc7cDPQu3PW1)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.89\n2. å¯†ç è®¤è¯: ssh root@10.0.101.89 (å¯†ç : V8pCMc7cDPQu3PW1)\n"
}
ok: [10.0.101.90] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90\nIPåœ°å€: 10.0.101.90\nä¸»æœºå: miyaofenfa1\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (81GI5G3Ymkpgw67y)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.90\n2. å¯†ç è®¤è¯: ssh root@10.0.101.90 (å¯†ç : 81GI5G3Ymkpgw67y)\n"
}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
10.0.101.90                : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
localhost                  : ok=11   changed=3    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   


2025-08-27 09:16:02,456 WARNING stderr: [WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.89 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.90 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-27 09:16:02,457 INFO æˆåŠŸè¯»å–å¯†ç æ˜ å°„: {'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89': 'V8pCMc7cDPQu3PW1', 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90': '81GI5G3Ymkpgw67y'}
2025-08-27 09:16:02,458 INFO 192.168.12.64 - - [27/Aug/2025 09:16:02] "POST /submit HTTP/1.1" 200 -
2025-08-27 09:38:00,060 INFO 192.168.12.64 - - [27/Aug/2025 09:38:00] "GET / HTTP/1.1" 200 -
2025-08-29 07:56:01,910 INFO 192.168.12.64 - - [29/Aug/2025 07:56:01] "GET / HTTP/1.1" 200 -
2025-08-29 07:56:02,154 INFO 192.168.12.64 - - [29/Aug/2025 07:56:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-29 07:58:37,781 INFO è°ƒåº¦ç­–ç•¥: cluster
2025-08-29 07:58:37,783 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-08-29 07:58:37,783 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'SandStone-28T', 'vm_names': 'æèˆªæ°æµ‹è¯•ç”¨-101.133,æèˆªæ°æµ‹è¯•ç”¨-101.134,æèˆªæ°æµ‹è¯•ç”¨-101.135', 'hostnames': 'ceshi,ceshi1,ceshi2', 'vm_ips': '10.0.101.133,10.0.101.134,10.0.101.135', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '8', 'disk_size_gb': '100', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-CPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'cluster'}
2025-08-29 07:58:37,783 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-08-29 08:03:11,570 INFO Ansible æ‰§è¡ŒæˆåŠŸ
2025-08-29 08:03:11,570 INFO stdout: 
PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
skipping: [localhost]

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æèˆªæ°æµ‹è¯•ç”¨-101.133)
ok: [localhost] => (item=æèˆªæ°æµ‹è¯•ç”¨-101.134)
ok: [localhost] => (item=æèˆªæ°æµ‹è¯•ç”¨-101.135)

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: cluster\nå°†ä½¿ç”¨é›†ç¾¤è‡ªåŠ¨è°ƒåº¦\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
changed: [localhost] => (item=['æèˆªæ°æµ‹è¯•ç”¨-101.133', 'ceshi', '10.0.101.133'])
changed: [localhost] => (item=['æèˆªæ°æµ‹è¯•ç”¨-101.134', 'ceshi1', '10.0.101.134'])
changed: [localhost] => (item=['æèˆªæ°æµ‹è¯•ç”¨-101.135', 'ceshi2', '10.0.101.135'])

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
skipping: [localhost] => (item=['æèˆªæ°æµ‹è¯•ç”¨-101.133', 'ceshi', '10.0.101.133']) 
skipping: [localhost] => (item=['æèˆªæ°æµ‹è¯•ç”¨-101.134', 'ceshi1', '10.0.101.134']) 
skipping: [localhost] => (item=['æèˆªæ°æµ‹è¯•ç”¨-101.135', 'ceshi2', '10.0.101.135']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
skipping: [localhost]

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„] *******************************************
changed: [localhost] => (item=['æèˆªæ°æµ‹è¯•ç”¨-101.133', 'ceshi', '10.0.101.133'])
changed: [localhost] => (item=['æèˆªæ°æµ‹è¯•ç”¨-101.134', 'ceshi1', '10.0.101.134'])
changed: [localhost] => (item=['æèˆªæ°æµ‹è¯•ç”¨-101.135', 'ceshi2', '10.0.101.135'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

TASK [æ˜¾ç¤ºéƒ¨ç½²ç»“æœæ‘˜è¦] ********************************************************
ok: [localhost] => {
    "msg": "éƒ¨ç½²å®Œæˆæ‘˜è¦:\n- æ€»è®¡éƒ¨ç½²VM: 3å°\n- è°ƒåº¦ç­–ç•¥: é›†ç¾¤è‡ªåŠ¨è°ƒåº¦\nVMè¯¦ç»†ä¿¡æ¯:\n1. æèˆªæ°æµ‹è¯•ç”¨-101.133 -> 10.0.101.133 (ä¸»æœºå: ceshi)\n2. æèˆªæ°æµ‹è¯•ç”¨-101.134 -> 10.0.101.134 (ä¸»æœºå: ceshi1)\n3. æèˆªæ°æµ‹è¯•ç”¨-101.135 -> 10.0.101.135 (ä¸»æœºå: ceshi2)\n"
}

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆæ§åˆ¶æœºæ¢æµ‹ï¼‰] ******************************************
ok: [10.0.101.134 -> localhost]
ok: [10.0.101.133 -> localhost]
ok: [10.0.101.135 -> localhost]

TASK [æµ‹è¯• SSH è¿æ¥ï¼ˆä½¿ç”¨æ¨¡æ¿åŸå§‹å¯†ç ï¼‰] ***************************************
ok: [10.0.101.135]
ok: [10.0.101.134]
ok: [10.0.101.133]

TASK [æ˜¾ç¤ºå½“å‰VMçš„å¯†ç ä¿¡æ¯] ****************************************************
ok: [10.0.101.133] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.133\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : wdDGkQppPd9RFkEQ\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}
ok: [10.0.101.134] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.134\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : 1K9JXqcLkCPkRg4C\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}
ok: [10.0.101.135] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.135\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : YG3SCzoUgpq13ctB\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}

TASK [ä¿®æ”¹ root å¯†ç ä¸ºéšæœºç”Ÿæˆçš„æ–°å¯†ç ] ****************************************
changed: [10.0.101.135]
changed: [10.0.101.133]
changed: [10.0.101.134]

TASK [ç¡®è®¤å¯†ç ä¿®æ”¹æˆåŠŸ] ********************************************************
ok: [10.0.101.134] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : 1K9JXqcLkCPkRg4C"
}
ok: [10.0.101.133] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : wdDGkQppPd9RFkEQ"
}
ok: [10.0.101.135] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : YG3SCzoUgpq13ctB"
}

TASK [ç¡®ä¿.sshç›®å½•å­˜åœ¨å¹¶è®¾ç½®æ­£ç¡®æƒé™] ******************************************
ok: [10.0.101.135]
ok: [10.0.101.133]
ok: [10.0.101.134]

TASK [æ³¨å…¥SSHå…¬é’¥åˆ° root ç”¨æˆ·] *************************************************
changed: [10.0.101.135]
changed: [10.0.101.133]
changed: [10.0.101.134]

TASK [ç¡®è®¤SSHå¯†é’¥æ³¨å…¥æˆåŠŸ] *****************************************************
ok: [10.0.101.133] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.133\n"
}
ok: [10.0.101.134] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.134\n"
}
ok: [10.0.101.135] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.135\n"
}

TASK [éªŒè¯authorized_keysæ–‡ä»¶æ˜¯å¦å­˜åœ¨] *****************************************
ok: [10.0.101.133]
ok: [10.0.101.135]
ok: [10.0.101.134]

TASK [æ˜¾ç¤ºauthorized_keysæ–‡ä»¶çŠ¶æ€] *********************************************
ok: [10.0.101.133] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}
ok: [10.0.101.134] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}
ok: [10.0.101.135] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}

TASK [éªŒè¯SSHå¯†é’¥å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼‰] *****************************************
changed: [10.0.101.133]
changed: [10.0.101.134]
changed: [10.0.101.135]

TASK [åˆ›å»ºauthorized_keysæ–‡ä»¶ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼‰] *********************
skipping: [10.0.101.133]
skipping: [10.0.101.134]
skipping: [10.0.101.135]

TASK [æœ€ç»ˆéªŒè¯SSHé…ç½®] *********************************************************
changed: [10.0.101.135]
changed: [10.0.101.134]
changed: [10.0.101.133]

TASK [æ˜¾ç¤ºæœ€ç»ˆéªŒè¯ç»“æœ] ********************************************************
ok: [10.0.101.133] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Aug 29 16:03 .",
        "dr-xr-x---. 4 root root 197 Aug 29 16:03 ..",
        "-rw-------  1 root root 761 Aug 29 16:03 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}
ok: [10.0.101.134] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Aug 29 16:03 .",
        "dr-xr-x---. 4 root root 197 Aug 29 16:03 ..",
        "-rw-------  1 root root 761 Aug 29 16:03 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}
ok: [10.0.101.135] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Aug 29 16:03 .",
        "dr-xr-x---. 4 root root 197 Aug 29 16:03 ..",
        "-rw-------  1 root root 761 Aug 29 16:03 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}

TASK [æ˜¾ç¤ºVMæœ€ç»ˆé…ç½®æ‘˜è¦] ******************************************************
ok: [10.0.101.133] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æèˆªæ°æµ‹è¯•ç”¨-101.133\nIPåœ°å€: 10.0.101.133\nä¸»æœºå: ceshi\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (wdDGkQppPd9RFkEQ)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.133\n2. å¯†ç è®¤è¯: ssh root@10.0.101.133 (å¯†ç : wdDGkQppPd9RFkEQ)\n"
}
ok: [10.0.101.134] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æèˆªæ°æµ‹è¯•ç”¨-101.134\nIPåœ°å€: 10.0.101.134\nä¸»æœºå: ceshi1\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (1K9JXqcLkCPkRg4C)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.134\n2. å¯†ç è®¤è¯: ssh root@10.0.101.134 (å¯†ç : 1K9JXqcLkCPkRg4C)\n"
}
ok: [10.0.101.135] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æèˆªæ°æµ‹è¯•ç”¨-101.135\nIPåœ°å€: 10.0.101.135\nä¸»æœºå: ceshi2\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (YG3SCzoUgpq13ctB)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.135\n2. å¯†ç è®¤è¯: ssh root@10.0.101.135 (å¯†ç : YG3SCzoUgpq13ctB)\n"
}

PLAY RECAP *********************************************************************
10.0.101.133               : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
10.0.101.134               : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
10.0.101.135               : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
localhost                  : ok=11   changed=3    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   


2025-08-29 08:03:11,570 WARNING stderr: [WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.135 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.133 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.134 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-08-29 08:03:11,570 INFO æˆåŠŸè¯»å–å¯†ç æ˜ å°„: {'æèˆªæ°æµ‹è¯•ç”¨-101.133': 'wdDGkQppPd9RFkEQ', 'æèˆªæ°æµ‹è¯•ç”¨-101.134': '1K9JXqcLkCPkRg4C', 'æèˆªæ°æµ‹è¯•ç”¨-101.135': 'YG3SCzoUgpq13ctB'}
2025-08-29 08:03:11,571 INFO 192.168.12.64 - - [29/Aug/2025 08:03:11] "POST /submit HTTP/1.1" 200 -
2025-09-01 06:45:40,157 INFO 192.168.12.64 - - [01/Sep/2025 06:45:40] "GET / HTTP/1.1" 200 -
2025-09-01 06:45:40,426 INFO 192.168.12.64 - - [01/Sep/2025 06:45:40] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-09-02 06:41:33,805 INFO 192.168.12.64 - - [02/Sep/2025 06:41:33] "GET / HTTP/1.1" 200 -
2025-09-02 06:41:34,070 INFO 192.168.12.64 - - [02/Sep/2025 06:41:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-09-02 07:05:20,603 INFO 192.168.12.64 - - [02/Sep/2025 07:05:20] "GET / HTTP/1.1" 200 -
2025-09-02 07:06:14,346 INFO è°ƒåº¦ç­–ç•¥: cluster
2025-09-02 07:06:14,347 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-09-02 07:06:14,347 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'SandStone-28T', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'hostnames': 'miyaofenfa', 'vm_ips': '10.0.101.89', 'template': 'openEuler22.03æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '400', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': 'Leinao-CPUé›†ç¾¤', 'resource_pool': 'Resources', 'scheduling_strategy': 'cluster'}
2025-09-02 07:06:14,347 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-09-02 07:08:25,024 INFO Ansible æ‰§è¡ŒæˆåŠŸ
2025-09-02 07:08:25,024 INFO stdout: 
PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
skipping: [localhost]

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: cluster\nå°†ä½¿ç”¨é›†ç¾¤è‡ªåŠ¨è°ƒåº¦\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
skipping: [localhost]

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„] *******************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

TASK [æ˜¾ç¤ºéƒ¨ç½²ç»“æœæ‘˜è¦] ********************************************************
ok: [localhost] => {
    "msg": "éƒ¨ç½²å®Œæˆæ‘˜è¦:\n- æ€»è®¡éƒ¨ç½²VM: 1å°\n- è°ƒåº¦ç­–ç•¥: é›†ç¾¤è‡ªåŠ¨è°ƒåº¦\nVMè¯¦ç»†ä¿¡æ¯:\n1. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89 -> 10.0.101.89 (ä¸»æœºå: miyaofenfa)\n"
}

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆæ§åˆ¶æœºæ¢æµ‹ï¼‰] ******************************************
ok: [10.0.101.89 -> localhost]

TASK [æµ‹è¯• SSH è¿æ¥ï¼ˆä½¿ç”¨æ¨¡æ¿åŸå§‹å¯†ç ï¼‰] ***************************************
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºå½“å‰VMçš„å¯†ç ä¿¡æ¯] ****************************************************
ok: [10.0.101.89] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.89\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : M3GET2PXiAO6SGPu\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}

TASK [ä¿®æ”¹ root å¯†ç ä¸ºéšæœºç”Ÿæˆçš„æ–°å¯†ç ] ****************************************
changed: [10.0.101.89]

TASK [ç¡®è®¤å¯†ç ä¿®æ”¹æˆåŠŸ] ********************************************************
ok: [10.0.101.89] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : M3GET2PXiAO6SGPu"
}

TASK [ç¡®ä¿.sshç›®å½•å­˜åœ¨å¹¶è®¾ç½®æ­£ç¡®æƒé™] ******************************************
ok: [10.0.101.89]

TASK [æ³¨å…¥SSHå…¬é’¥åˆ° root ç”¨æˆ·] *************************************************
changed: [10.0.101.89]

TASK [ç¡®è®¤SSHå¯†é’¥æ³¨å…¥æˆåŠŸ] *****************************************************
ok: [10.0.101.89] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.89\n"
}

TASK [éªŒè¯authorized_keysæ–‡ä»¶æ˜¯å¦å­˜åœ¨] *****************************************
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºauthorized_keysæ–‡ä»¶çŠ¶æ€] *********************************************
ok: [10.0.101.89] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}

TASK [éªŒè¯SSHå¯†é’¥å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼‰] *****************************************
changed: [10.0.101.89]

TASK [åˆ›å»ºauthorized_keysæ–‡ä»¶ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼‰] *********************
skipping: [10.0.101.89]

TASK [æœ€ç»ˆéªŒè¯SSHé…ç½®] *********************************************************
changed: [10.0.101.89]

TASK [æ˜¾ç¤ºæœ€ç»ˆéªŒè¯ç»“æœ] ********************************************************
ok: [10.0.101.89] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 12",
        "drwx------  2 root root  71 Sep  2 15:08 .",
        "dr-xr-x---. 4 root root 197 Sep  2 15:08 ..",
        "-rw-------  1 root root 761 Sep  2 15:08 authorized_keys",
        "-rw-------  1 root root 659 Aug 13 10:12 known_hosts",
        "-rw-r--r--  1 root root  93 Aug 13 10:12 known_hosts.old",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}

TASK [æ˜¾ç¤ºVMæœ€ç»ˆé…ç½®æ‘˜è¦] ******************************************************
ok: [10.0.101.89] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89\nIPåœ°å€: 10.0.101.89\nä¸»æœºå: miyaofenfa\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (M3GET2PXiAO6SGPu)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.89\n2. å¯†ç è®¤è¯: ssh root@10.0.101.89 (å¯†ç : M3GET2PXiAO6SGPu)\n"
}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
localhost                  : ok=11   changed=3    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   


2025-09-02 07:08:25,024 WARNING stderr: [WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.89 is using the discovered Python
interpreter at /usr/bin/python3.9, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-09-02 07:08:25,024 INFO æˆåŠŸè¯»å–å¯†ç æ˜ å°„: {'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89': 'M3GET2PXiAO6SGPu'}
2025-09-02 07:08:25,025 INFO 192.168.12.64 - - [02/Sep/2025 07:08:25] "POST /submit HTTP/1.1" 200 -
2025-09-02 07:10:40,376 INFO 192.168.12.64 - - [02/Sep/2025 07:10:40] "GET / HTTP/1.1" 200 -
2025-09-02 07:11:31,521 INFO ESXiä¸»æœºé…ç½®: 10.0.200.28
2025-09-02 07:11:31,522 INFO è°ƒåº¦ç­–ç•¥: single-esxi
2025-09-02 07:11:31,522 INFO é…ç½®æ–‡ä»¶å·²å†™å…¥: /app/vm_params.ini
2025-09-02 07:11:31,522 INFO VMé…ç½®: {'vcenter_hostname': '10.0.200.100', 'vcenter_username': 'administrator@vsphere.local', 'vcenter_password': 'Leinao@323', 'datacenter_name': 'Leinao', 'vm_folder': '/vm/å…¶ä»–/è¿ç»´è‡ªç”¨/è¿ç»´äººå‘˜', 'datastore_name': 'SandStone-28T', 'vm_names': 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89,æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'hostnames': 'miyaofenfa,miyaofenfa1', 'vm_ips': '10.0.101.89,10.0.101.90', 'template': 'ubuntu-20.04æ¨¡æ¿', 'memory_mb': '4096', 'num_cpus': '2', 'disk_size_gb': '400', 'network_name': 'vlan101-æµ‹è¯•', 'netmask': '255.255.255.0', 'gateway': '10.0.101.1', 'dns_servers': '223.5.5.5', 'dns_suffix': '', 'cluster': '', 'resource_pool': '', 'scheduling_strategy': 'single-esxi', 'esxi_hostnames': '10.0.200.28'}
2025-09-02 07:11:31,522 INFO å¼€å§‹æ‰§è¡Œ Ansible Playbook...
2025-09-02 07:15:26,343 INFO Ansible æ‰§è¡ŒæˆåŠŸ
2025-09-02 07:15:26,343 INFO stdout: 
PLAY [ç”Ÿæˆéšæœºå¯†ç å¹¶é€šè¿‡æ¨¡æ¿å…‹éš† VM] *******************************************

TASK [è¯»å– ini æ–‡ä»¶] ***********************************************************
ok: [localhost]

TASK [è§£æ ini ä¸ºå˜é‡] *********************************************************
ok: [localhost]

TASK [æ‹†åˆ† VM åˆ—è¡¨ã€hostname åˆ—è¡¨ã€IP åˆ—è¡¨] ************************************
ok: [localhost]

TASK [æ‹†åˆ†ESXiä¸»æœºåˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šå°ä¸»æœºï¼‰] **********************************
ok: [localhost]

TASK [æ£€æŸ¥ vm_namesã€hostnamesã€vm_ips æ•°é‡ä¸€è‡´] *******************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [æ£€æŸ¥ESXiä¸»æœºåˆ—è¡¨æ•°é‡ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼‰] **************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}

TASK [ä¸ºæ¯å° VM ç”Ÿæˆéšæœº root å¯†ç ] ********************************************
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89)
ok: [localhost] => (item=æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90)

TASK [æ˜¾ç¤ºè°ƒåº¦ç­–ç•¥ä¿¡æ¯] ********************************************************
ok: [localhost] => {
    "msg": "è°ƒåº¦ç­–ç•¥: single-esxi\næ‰€æœ‰VMå°†éƒ¨ç½²åˆ°: 10.0.200.28\n"
}

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - é›†ç¾¤è‡ªåŠ¨è°ƒåº¦] **********************
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89']) 
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90']) 
skipping: [localhost]

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - æŒ‡å®šå•å°ESXiä¸»æœº] ******************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90'])

TASK [å…‹éš†å¹¶ç­‰å¾… guest customization å®Œæˆ - ä¸ºæ¯ä¸ªVMæŒ‡å®šä¸åŒESXiä¸»æœº] **********
skipping: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89', '10.0.200.28']) 
skipping: [localhost]

TASK [æŠŠæ¯å° VM åŠ¨æ€åŠ å…¥ new_vms ç»„] *******************************************
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89', 'miyaofenfa', '10.0.101.89'])
changed: [localhost] => (item=['æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90', 'miyaofenfa1', '10.0.101.90'])

TASK [å†™å…¥å¯†ç æ˜ å°„åˆ°æ–‡ä»¶ï¼Œä»¥ä¾¿åç«¯è¯»å–] ****************************************
changed: [localhost]

TASK [æ˜¾ç¤ºéƒ¨ç½²ç»“æœæ‘˜è¦] ********************************************************
ok: [localhost] => {
    "msg": "éƒ¨ç½²å®Œæˆæ‘˜è¦:\n- æ€»è®¡éƒ¨ç½²VM: 2å°\n- è°ƒåº¦ç­–ç•¥: æŒ‡å®šå•å°ä¸»æœº(10.0.200.28)\nVMè¯¦ç»†ä¿¡æ¯:\n1. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89 -> 10.0.101.89 (ä¸»æœºå: miyaofenfa, ESXi: 10.0.200.28)\n2. æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90 -> 10.0.101.90 (ä¸»æœºå: miyaofenfa1, ESXi: 10.0.200.28)\n"
}

PLAY [ç™»å½•æ–° VMï¼Œä¿®æ”¹ root å¯†ç å¹¶æ³¨å…¥å…¬é’¥] *************************************

TASK [ç­‰å¾… 22 ç«¯å£æ‰“å¼€ï¼ˆæ§åˆ¶æœºæ¢æµ‹ï¼‰] ******************************************
ok: [10.0.101.89 -> localhost]
ok: [10.0.101.90 -> localhost]

TASK [æµ‹è¯• SSH è¿æ¥ï¼ˆä½¿ç”¨æ¨¡æ¿åŸå§‹å¯†ç ï¼‰] ***************************************
ok: [10.0.101.89]
ok: [10.0.101.90]

TASK [æ˜¾ç¤ºå½“å‰VMçš„å¯†ç ä¿¡æ¯] ****************************************************
ok: [10.0.101.89] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.89\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : tjTXibr3I8doOTLG\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}
ok: [10.0.101.90] => {
    "msg": "æ­£åœ¨é…ç½®VM: 10.0.101.90\næ¨¡æ¿åŸå§‹å¯†ç : leinao@123\næ–°ç”Ÿæˆçš„éšæœºå¯†ç : jXkWA9vgrNZ51C5V\nå³å°†æ³¨å…¥SSHå¯†é’¥\n"
}

TASK [ä¿®æ”¹ root å¯†ç ä¸ºéšæœºç”Ÿæˆçš„æ–°å¯†ç ] ****************************************
changed: [10.0.101.90]
changed: [10.0.101.89]

TASK [ç¡®è®¤å¯†ç ä¿®æ”¹æˆåŠŸ] ********************************************************
ok: [10.0.101.89] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : tjTXibr3I8doOTLG"
}
ok: [10.0.101.90] => {
    "msg": "rootå¯†ç å·²æˆåŠŸä¿®æ”¹ä¸ºéšæœºç”Ÿæˆçš„å¯†ç : jXkWA9vgrNZ51C5V"
}

TASK [ç¡®ä¿.sshç›®å½•å­˜åœ¨å¹¶è®¾ç½®æ­£ç¡®æƒé™] ******************************************
ok: [10.0.101.90]
ok: [10.0.101.89]

TASK [æ³¨å…¥SSHå…¬é’¥åˆ° root ç”¨æˆ·] *************************************************
changed: [10.0.101.89]
changed: [10.0.101.90]

TASK [ç¡®è®¤SSHå¯†é’¥æ³¨å…¥æˆåŠŸ] *****************************************************
ok: [10.0.101.89] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.89\n"
}
ok: [10.0.101.90] => {
    "msg": "SSHå…¬é’¥æ³¨å…¥çŠ¶æ€: SUCCESS\nå¯†é’¥æ–‡ä»¶: /app/keys/xuji_key.pub\nç›®æ ‡ç”¨æˆ·: root\nVM IP: 10.0.101.90\n"
}

TASK [éªŒè¯authorized_keysæ–‡ä»¶æ˜¯å¦å­˜åœ¨] *****************************************
ok: [10.0.101.90]
ok: [10.0.101.89]

TASK [æ˜¾ç¤ºauthorized_keysæ–‡ä»¶çŠ¶æ€] *********************************************
ok: [10.0.101.89] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}
ok: [10.0.101.90] => {
    "msg": "authorized_keysæ–‡ä»¶çŠ¶æ€:\n- å­˜åœ¨: True\n- å¤§å°: 761 bytes\n- æƒé™: 0600\n"
}

TASK [éªŒè¯SSHå¯†é’¥å†…å®¹ï¼ˆå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼‰] *****************************************
changed: [10.0.101.90]
changed: [10.0.101.89]

TASK [åˆ›å»ºauthorized_keysæ–‡ä»¶ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼‰] *********************
skipping: [10.0.101.89]
skipping: [10.0.101.90]

TASK [æœ€ç»ˆéªŒè¯SSHé…ç½®] *********************************************************
changed: [10.0.101.90]
changed: [10.0.101.89]

TASK [æ˜¾ç¤ºæœ€ç»ˆéªŒè¯ç»“æœ] ********************************************************
ok: [10.0.101.89] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 8",
        "drwx------ 2 root root  48 Sep  2 07:15 .",
        "drwx------ 6 root root 178 Sep  2 07:15 ..",
        "-rw------- 1 root root 761 Aug  5  2022 authorized_keys",
        "-rw-r--r-- 1 root root 222 Aug 13 02:14 known_hosts",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}
ok: [10.0.101.90] => {
    "final_verification.stdout_lines": [
        "=== SSHç›®å½•ç»“æ„ ===",
        "total 8",
        "drwx------ 2 root root  48 Sep  2 07:15 .",
        "drwx------ 6 root root 178 Sep  2 07:15 ..",
        "-rw------- 1 root root 761 Aug  5  2022 authorized_keys",
        "-rw-r--r-- 1 root root 222 Aug 13 02:14 known_hosts",
        "=== authorized_keyså†…å®¹éªŒè¯ ===",
        "æ–‡ä»¶å­˜åœ¨ï¼Œè¡Œæ•°: 1",
        "å†…å®¹é¢„è§ˆï¼š",
        "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDALYnHJxLnQCWwJ5jREbyXm72PZuogkCZvn8hxJteTfDDNm4zYpkHMImepX2esAIZVK9/tg9DZ2LoNwMuUnIXd6UuhkabxCXZ0hjbSas1ewO53k/CWr7vizHuJsePi3FjkOYyPt4NvN4QnMivXxQMc6KQDrRjiy0p32PJZoeoXNGr1fSPe+phN0FAJAVlr4Nl6M8m0vG9IcyiiyQjQqhweHK6X4le7RDZGiHtGt2fYk+DzSj9xEZhEdjbqdBu4RHiDOPUmG+rLDza1ntjW840G+JT8Vrcgpv2tfD34XhqSNfbyqDU07Jc8HkAV+tGH4pf4MYwVDrZ2cHj6Ol9g94ccse9YsLdvhy9yuDHGoTbWocATEuXm90DQY/QBGkkvy3b97x0yeuJnxFafnUDQd5B27wCBUkeH5IHLEJ852LCQ6iZ/KES1gO4CBftOm7dbNcGn6CyOLh+KRqU4cw0PRhGJHi7mLiL5u2JJL+OZrA9vJ7R6Gn7LS0DdvMa4zHd5IkK0L+tT4irxMA0TsNz7+YFbegKF+hoz1dhauqw2shpHDpFNUIlui5Fr/ACR9un2yLpCocnGxSLk2U/FKdct0e6bcfi46WmVBj9OZjecBKvZid97CjvdeT/xJGH6DFutmhz9BG1sOxkAkHzgTwt2YPKPGOI7kuqFwPSCZHgT/lxKoQ== Auto-injected by VM creation script"
    ]
}

TASK [æ˜¾ç¤ºVMæœ€ç»ˆé…ç½®æ‘˜è¦] ******************************************************
ok: [10.0.101.89] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89\nIPåœ°å€: 10.0.101.89\nä¸»æœºå: miyaofenfa\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (tjTXibr3I8doOTLG)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.89\n2. å¯†ç è®¤è¯: ssh root@10.0.101.89 (å¯†ç : tjTXibr3I8doOTLG)\n"
}
ok: [10.0.101.90] => {
    "msg": "VMé…ç½®å®Œæˆæ‘˜è¦:\n================================\nVMåç§°: æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90\nIPåœ°å€: 10.0.101.90\nä¸»æœºå: miyaofenfa1\n--------------------------------\nå®‰å…¨é…ç½®:\nâœ… rootå¯†ç : å·²ä¿®æ”¹ä¸ºéšæœºå¯†ç  (jXkWA9vgrNZ51C5V)\nâœ… SSHå¯†é’¥: å·²æ³¨å…¥å…¬é’¥ (/app/keys/xuji_key.pub)\nâœ… SSHè®¿é—®: æ”¯æŒå¯†é’¥è®¤è¯å’Œå¯†ç è®¤è¯\n--------------------------------\nVMçŠ¶æ€: å°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨ï¼\n\nè¿æ¥æ–¹å¼:\n1. SSHå¯†é’¥è®¤è¯: ssh -i /app/keys/xuji_key root@10.0.101.90\n2. å¯†ç è®¤è¯: ssh root@10.0.101.90 (å¯†ç : jXkWA9vgrNZ51C5V)\n"
}

PLAY RECAP *********************************************************************
10.0.101.89                : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
10.0.101.90                : ok=14   changed=4    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
localhost                  : ok=12   changed=3    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   


2025-09-02 07:15:26,343 WARNING stderr: [WARNING]: Platform linux on host localhost is using the discovered Python
interpreter at /usr/local/bin/python3.10, but future installation of another
Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.90 is using the discovered Python
interpreter at /usr/bin/python3.8, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host 10.0.101.89 is using the discovered Python
interpreter at /usr/bin/python3.8, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.

2025-09-02 07:15:26,343 INFO æˆåŠŸè¯»å–å¯†ç æ˜ å°„: {'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.89': 'tjTXibr3I8doOTLG', 'æµ‹è¯•-å¯†é’¥åˆ†å‘-101.90': 'jXkWA9vgrNZ51C5V'}
2025-09-02 07:15:26,344 INFO 192.168.12.64 - - [02/Sep/2025 07:15:26] "POST /submit HTTP/1.1" 200 -
2025-09-03 01:12:38,606 INFO 192.168.12.64 - - [03/Sep/2025 01:12:38] "GET / HTTP/1.1" 200 -
2025-09-03 01:12:38,894 INFO 192.168.12.64 - - [03/Sep/2025 01:12:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
